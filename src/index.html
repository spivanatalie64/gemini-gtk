<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>AI-Box</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-drag-region"></div>
    <nav class="tab-bar">
        <div id="tabs-container" class="tabs-container">
            <!-- Tabs generated by renderer.js -->
        </div>

        <div class="controls">
            <button class="icon-btn" onclick="integrateDesktop()" title="Integrate to Desktop (Cinnamon)">ğŸ–¥ï¸</button>
            <button class="icon-btn" onclick="openVSCodeDialog()" title="VSCode Integration">ğŸ†š</button>
            <div class="divider"></div>
            <div class="mode-selector">
                <button class="mode-btn active" data-mode="standard" onclick="switchMode('standard')">ğŸ’¬
                    Standard</button>
                <button class="mode-btn" data-mode="enterprise" onclick="switchMode('enterprise')">ğŸ¢
                    Enterprise</button>
                <button class="mode-btn" data-mode="media" onclick="switchMode('media')">ğŸ¨ Media</button>
            </div>
        </div>
    </nav>

    <!-- VSCode Integration Dialog -->
    <div id="vscode-dialog" class="dialog-overlay" style="display: none;">
        <div class="dialog-box">
            <div class="dialog-header">
                <h3>ğŸ†š VSCode Integration</h3>
                <button class="close-btn" onclick="closeVSCodeDialog()">âœ•</button>
            </div>
            <div class="dialog-content">
                <p>This will create a <code>gemini-ai</code> command that you can run from any terminal, including
                    VSCode's integrated terminal.</p>
                <div class="info-box">
                    <strong>Installation Path:</strong> <code>~/.local/bin/gemini-ai</code>
                </div>
                <p>After installation, you can launch this app by typing:</p>
                <div class="code-box">gemini-ai</div>
            </div>
            <div class="dialog-footer">
                <button class="secondary-btn" onclick="closeVSCodeDialog()">Cancel</button>
                <button class="primary-btn" onclick="confirmVSCodeIntegration()">Install Command</button>
            </div>
        </div>
    </div>

    <!-- Local AI Button -->
    <button class="local-btn" onclick="toggleLocalPanel()" title="Local AI (Ollama)">
        ğŸ  Local
    </button>

    <!-- Local AI Panel -->
    <div id="local-panel" class="local-panel">
        <div class="panel-header">
            <h3>ğŸ  Local AI</h3>
            <button class="close-btn" onclick="toggleLocalPanel()">âœ•</button>
        </div>

        <div class="panel-content">
            <div id="ollama-status" class="status-section">
                <div class="status-indicator">
                    <span id="status-dot" class="status-dot"></span>
                    <span id="status-text">Checking Ollama...</span>
                </div>
            </div>

            <div id="install-section" class="install-section" style="display: none;">
                <p>Ollama is not installed. Install it to use local AI models.</p>
                <button class="primary-btn" onclick="installOllama()">Install Ollama</button>
            </div>

            <div id="chat-section" class="chat-section" style="display: none;">
                <div class="model-selector">
                    <label>Model:</label>
                    <select id="model-select">
                        <option value="llama2">Llama 2</option>
                        <option value="mistral">Mistral</option>
                        <option value="codellama">Code Llama</option>
                    </select>
                </div>

                <div id="chat-messages" class="chat-messages"></div>

                <div class="chat-input-container">
                    <input type="text" id="local-chat-input" placeholder="Message local AI..." />
                    <button onclick="sendLocalMessage()">Send</button>
                </div>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>

</html>